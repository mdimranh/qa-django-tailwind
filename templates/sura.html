{% extends 'quran-base.html' %}
{% load static %}
{% load custom_tags %}

{% block title %}কুরআন মাজিদ | {{sura.bn_name}}{% endblock title %}

{% block css %}
<link rel="stylesheet" href="https://icono-49d6.kxcdn.com/icono.min.css">
<style>
    .tippy-box[data-theme~='my-theme'] {
        background-color: #2d3748;
        color: #fff;
    }

    .audio-player {
        font-family: arial;
        color: white;
        font-size: 0.75em;
        overflow: hidden;
        display: grid;
        grid-template-rows: 6px auto;
      }
      .audio-player .timeline {
        width: 100%;
        position: relative;
        cursor: pointer;
      }
      .audio-player .timeline .progress {
        background: coral;
        width: 0%;
        height: 100%;
      }
      .audio-player .controls {
        display: flex;
        justify-content: space-between;
        align-items: stretch;
        padding: 0 20px;
      }
      .audio-player .controls > * {
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .audio-player .controls .toggle-play.play {
        cursor: pointer;
        position: relative;
        left: 0;
        height: 0;
        width: 0;
        border: 7px solid #0000;
        border-left: 13px solid white;
      }

      .audio-player .controls .toggle-play.pause {
        height: 15px;
        width: 20px;
        cursor: pointer;
        position: relative;
      }
      .audio-player .controls .toggle-play.pause:before {
        position: absolute;
        top: 0;
        left: 0px;
        background: white;
        content: "";
        height: 15px;
        width: 3px;
      }
      .audio-player .controls .toggle-play.pause:after {
        position: absolute;
        top: 0;
        right: 8px;
        background: white;
        content: "";
        height: 15px;
        width: 3px;
      }
      .audio-player .controls .toggle-play.pause:hover {
        transform: scale(1.1);
      }
      .audio-player .controls .time {
        display: flex;
      }
      .audio-player .controls .time > * {
        padding: 2px;
      }
      .audio-player .controls .volume-container {
        cursor: pointer;
        position: relative;
        z-index: 2;
      }
      .audio-player .controls .volume-container .volume-button {
        height: 26px;
        display: flex;
        align-items: center;
      }
      .audio-player .controls .volume-container .volume-button .volume {
        transform: scale(0.7);
      }
      .audio-player .controls .volume-container .volume-slider {
        position: absolute;
        left: -3px;
        top: 15px;
        z-index: -1;
        width: 0;
        height: 15px;
        background: white;
        box-shadow: 0 0 20px #000a;
        transition: 0.25s;
      }
      .audio-player .controls .volume-container .volume-slider .volume-percentage {
        background: coral;
        height: 100%;
        width: 75%;
      }
      .audio-player .controls .volume-container:hover .volume-slider {
        left: -123px;
        width: 120px;
      }
</style>
{% endblock css %}

{% block main_content %}

<div>

    <div class="flex px-2">

        <div id="sura-list" class="hidden md:block border border-gray-200 bg-white dark:bg-gray-800 w-44 flex-none left-0 fixed top-16 -mt-1 bottom-0 z-30 overflow-y-auto dark:border-slate-700">
            <div class="flex flex-col py-2">
            {% for sura_info in sura_list %}
                <a id="sura-{{sura_info.id}}" href="/quran/sura/{{sura_info.id}}" class="p-2 hover:bg-gray-100 dark:hover:bg-gray-700 cursor-pointer sura-list {% if sura_info.id == sura.id %}selected{% endif %} font-solaimanlipi">{% number_convert 'english_to_bengali' sura_info.id %}. {{sura_info.bn_name}}</a>
            {% endfor %}
            </div>
        </div>

        <div id="settings-right-drawer" class="flex md:hidden fixed right-0 bottom-20 w-8 h-8 bg-gray-600 bg-opacity-50 cursor-pointer text-white border border-gray-400 justify-center items-center"><i class="fa-solid fa-gear fa-spin"></i></div>
        
        <div id="accordion-flush" class="right-drawer hidden md:block flex-none right-0 z-30 bg-white dark:bg-gray-800 w-56 fixed top-16 -mt-1 bottom-0 border border-gray-200 dark:border-slate-700" always-open="true" data-accordion="collapse" data-active-classes="bg-white dark:bg-gray-900 text-gray-900 dark:text-white" data-inactive-classes="text-gray-500 dark:text-gray-400">
            <h2 id="accordion-flush-heading-1">
                <button type="button" class="accordion-btn flex items-center justify-between w-full py-2 font-medium text-left text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-1" aria-expanded="true" aria-controls="accordion-flush-body-1">
                    <span><i class="fa-solid fa-book fa-xl text-lime-600 pl-2 pr-3"></i> Reading Settings</span>
                    <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                </button>
            </h2>
            <div id="accordion-flush-body-1" class="hidden px-2" aria-labelledby="accordion-flush-heading-1">
                <div class="py-3 border-gray-200 dark:border-gray-700">
                    <label class="relative inline-flex items-center mb-5 cursor-pointer">
                        <input checked id="word-by-word" type="checkbox" value="" class="sr-only peer">
                        <div class="w-9 h-5 border-2 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                        <span class="ml-3 text-sm font-medium text-gray-900 dark:text-gray-300">শব্দে শব্দে কুরআন</span>
                    </label>
                    <label for="mode-select" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">মোড</label>
                    <ul class="flex justify-center w-full gap-2 flex-wrap mb-2" id="mode-select">
                        <li>
                            <input type="radio" id="tarns" name="mode" value="translate" class="hidden peer" checked>
                            <label for="tarns" class="inline-flex items-center justify-between w-full p-2 gap-2 text-gray-500 bg-white border-2 border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">                           
                                <div class="w-full">অনুবাদ</div>
                                <i class="fa-solid fa-language"></i>
                            </label>
                        </li>
                        <li>
                            <input type="radio" id="tfsr" name="mode" value="tafseer" class="hidden peer" checked>
                            <label for="tfsr" class="inline-flex items-center justify-between w-full p-2 gap-2 text-gray-500 bg-white border-2 border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">                           
                                <div class="w-full">তাফসীর</div>
                                <i class="fa-solid fa-language"></i>
                            </label>
                        </li>
                        <li>
                            <input type="radio" id="read" name="mode" value="read" class="hidden peer">
                            <label for="read" class="inline-flex items-center justify-between w-full p-2 gap-2 text-gray-500 bg-white border-2 border-gray-200 rounded-lg cursor-pointer dark:hover:text-gray-300 dark:border-gray-700 dark:peer-checked:text-blue-500 peer-checked:border-blue-600 peer-checked:text-blue-600 hover:text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:bg-gray-800 dark:hover:bg-gray-700">
                                <div class="w-full">রিডিং</div>
                                <i class="fa-brands fa-readme"></i>
                            </label>
                        </li>
                    </ul>
                    <label for="quran-font" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">এরাবিক ফন্ট</label>
                    <select id="quran-font" current-font="kfgq" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option value="kfgq" selected>KFGQ Hafs</option>
                        <option value="amiri">Amiri</option>
                        <option value="alqalam">Al Qalam</option>
                        <option value="noorehidayat">Noore Hidayat </option>
                        <option value="noorehira">Noore Hira </option>
                        <option value="pdms">PDMS Saleem </option>
                        <option value="qur_std">Quran Standard </option>
                    </select>
                </div>
            </div>
            <h2 id="accordion-flush-heading-2">
                <button type="button" class="accordion-btn flex items-center justify-between w-full py-2 font-medium text-left text-gray-500 border-b border-gray-200 dark:border-gray-700 dark:text-gray-400" data-accordion-target="#accordion-flush-body-2" aria-expanded="true" aria-controls="accordion-flush-body-2">
                    <span><i class="fa-regular fa-circle-play fa-xl text-lime-600 pl-2 pr-3"></i> Audio Settings</span>
                    <svg data-accordion-icon class="w-6 h-6 rotate-180 shrink-0" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                </button>
            </h2>
            <div id="accordion-flush-body-2" class="hidden px-2" aria-labelledby="accordion-flush-heading-2">
                <div class="py-3 border-gray-200 dark:border-gray-700">
                    <label for="qari" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">কারী নির্বাচন</label>
                    <select id="qari" current-qari="Alafasy" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500">
                        <option value="Abdurrahmaan_As-Sudais_192kbps">Abdurrahmaan As Sudais</option>
                        <option value="Abdullaah_3awwaad_Al-Juhaynee_128kbps">Abdullaah Awwaad Al Juhaynee</option>
                        <option value="Alafasy_128kbps" selected>Al Afasy</option>
                        <option value="Hudhaify_128kbps">Hudhaify</option>
                        <option value="MaherAlMuaiqly128kbps">Maher Al Muaiqly</option>
                        <option value="Nasser_Alqatami_128kbps">Nasser Al Qatami</option>
                        <option value="Yasser_Ad-Dussary_128kbps">Yasser Ad Dussary</option>
                    </select>
                </div>
                <label class="relative inline-flex items-center mb-5 cursor-pointer">
                    <input id="auto-next" type="checkbox" value="" class="sr-only peer">
                    <div class="w-9 h-5 border-2 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-blue-600"></div>
                    <span class="ml-3 text-sm font-medium text-gray-900 dark:text-gray-300">Auto next</span>
                </label>
            </div>
        </div>  

        <div class="skeleton flex flex-col flex-auto ml-44 mr-56 mt-5 gap-3">

            <div role="status" class="flex justify-between items-center border-2 animate-pulse border-gray-100 dark:border-gray-600 bg-lime-100 dark:bg-teal-950 bg-opacity-40 px-5 rounded-lg">
                <div class="flex flex-col gap-3">
                    <div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-600 w-24"></div>
                    <div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-600 w-24"></div>
                </div>
                <div class="mt-10 mb-10 h-8 bg-gray-200 rounded-full dark:bg-gray-600 w-60"></div>
                <div class="flex flex-col gap-3">
                    <div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-600 w-24"></div>
                    <div class="h-2.5 bg-gray-200 rounded-full dark:bg-gray-600 w-24"></div>
                </div>
            </div>

            <div role="status" class="w-full p-4 space-y-4 border border-gray-200 rounded shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700">
                <div class="flex w-full justify-start">
                    <div class="border-2 rounded-xl w-16 h-6 border-gray-200 dark:border-gray-600 text-gray-500 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                </div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex justify-end">
                        <div class="rounded-xl w-1/2 h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
                <div class="rounded-xl w-32 h-2 bg-gray-200 dark:bg-gray-600"></div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex">
                        <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
            </div>
            <div role="status" class="w-full p-4 space-y-4 border border-gray-200 rounded shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700">
                <div class="flex w-full justify-start">
                    <div class="border-2 rounded-xl w-16 h-6 border-gray-200 dark:border-gray-600 text-gray-500 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                </div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex justify-end">
                        <div class="rounded-xl w-1/2 h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
                <div class="rounded-xl w-32 h-2 bg-gray-200 dark:bg-gray-600"></div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex">
                        <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
            </div>
            <div role="status" class="w-full p-4 space-y-4 border border-gray-200 rounded shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700">
                <div class="flex w-full justify-start">
                    <div class="border-2 rounded-xl w-16 h-6 border-gray-200 dark:border-gray-600 text-gray-500 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                </div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex justify-end">
                        <div class="rounded-xl w-1/2 h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
                <div class="rounded-xl w-32 h-2 bg-gray-200 dark:bg-gray-600"></div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex">
                        <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
            </div>
            <div role="status" class="w-full p-4 space-y-4 border border-gray-200 rounded shadow animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700">
                <div class="flex w-full justify-start">
                    <div class="border-2 rounded-xl w-16 h-6 border-gray-200 dark:border-gray-600 text-gray-500 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                    <div class="rounded-full w-6 h-6 bg-gray-200 dark:bg-gray-600 text-center mr-3"></div>
                </div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex justify-end">
                        <div class="rounded-xl w-1/2 h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
                <div class="rounded-xl w-32 h-2 bg-gray-200 dark:bg-gray-600"></div>
                <div class="flex flex-col gap-1">
                    <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    <div class="flex">
                        <div class="rounded-xl w-full h-4 bg-gray-200 dark:bg-gray-600"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="sura-main flex-auto md:ml-44 md:mr-56 hidden">

            <div class="flex justify-between items-center border-2 border-teal-700 dark:border-gray-500 dark:text-white bg-lime-100 dark:bg-teal-950 bg-opacity-40 px-5 mt-5 rounded-lg">
                <div class="flex flex-col">
                    <span class="font-bold suraname font-solaimanlipi text-xl">{{sura.bn_name}}</span>
                    <span class="font-bold font-solaimanlipi text-lg">{{sura.translation}}</span>
                </div>
                <div class="font-suraname text-lime-700 dark:text-white text-9xl">{{sura.index}}</div>
                <div class="flex flex-col">
                    <span class=" font-solaimanlipi">আয়াত: <span class="font-bold">{% number_convert 'english_to_bengali' sura.total_verses %}</span></span>
                    <span class=" font-solaimanlipi">নাযিল: <span class="font-bold">{{sura.bn_type}}</span></span>
                </div>
            </div>

            {% if sura.id != 1 and sura.id != 9 %}
                <div class="flex justify-center mt-6 text-6xl font-bismillah">
                    <svg class="w-72" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="Layer_1" x="0px" y="0px" viewBox="0 0 541.6 118.399" enable-background="new 0 0 541.6 118.399" xml:space="preserve">
                        <g>
                            <path class="fill-lime-800 dark:fill-white" d="M121.2,12h0.4c3.462,7.2,5.2,11.337,5.2,12.4l-0.8,0.4l-1.2-0.4H124c0,2.4,1.731,10.4,5.2,24   c2.131,8.531,3.2,14.8,3.2,18.8c0,8.262-4.938,13.463-14.8,15.6c-2.938,1.063-4.4,2.662-4.4,4.801c-1.869,3.73-2.8,7.73-2.8,12   c0,4.531,2,6.799,6,6.799h1.2c6.663,0,15.862-5.736,27.6-17.199c12.262-10.4,19.731-16.138,22.4-17.2v-0.399   c-0.8-1.338-3.869-3.469-9.2-6.4c-1.337-2.669-2-4.938-2-6.8c0-4,3.731-6.269,11.2-6.8h0.4l2.8,0.4h0.4   c8.531,0,19.331,1.462,32.4,4.4v1.2c0,4.262-4,7.331-12,9.2c-7.469,2.932-12.538,5.463-15.2,7.6l2.4,5.201v4.799l-0.8,0.4   c-2.4,0-4.8-1.338-7.2-4H170c-4.269,8.263-6.4,14.131-6.4,17.6c0,1.332,0.663,2.4,2,3.201h2.4c3.2,0,8.263-4,15.2-12   c4.531-3.469,12.262-6.801,23.2-10c1.863-1.069,4.131-2.938,6.8-5.601c-0.269-1.868-0.538-3.469-0.8-4.8   c-5.869-25.869-9.2-41.731-10-47.6V20c0.263-3.2,0.8-4.8,1.6-4.8c3.462,5.337,5.2,9.337,5.2,12l-0.8,0.4l-1.2-0.4v0.4l8,35.2   l0.4,5.6v1.201c-0.269,8.799-4.538,14.399-12.8,16.799c-10.4,2.663-18.537,7.463-24.4,14.4c-4,3.731-7.069,5.6-9.2,5.6H168   c-2.4,0-4.4-2.799-6-8.399c0-4.538,2.663-10.938,8-19.2v-1.199c-3.2,0.262-14,8.531-32.4,24.799   c-8.538,6.932-15.469,10.4-20.8,10.4c-5.6,0-8.4-3.469-8.4-10.4V100c0-3.737,1.2-8.538,3.6-14.399h-0.8   c-4,0-11.2,4.799-21.6,14.399c-2.4,1.601-4.269,2.399-5.6,2.399c-4.269-0.799-6.4-3.068-6.4-6.799l-0.4-2.4   c0-5.869,2.4-12.27,7.2-19.2l0.8-3.601c-3.469-1.068-5.869-2.668-7.2-4.799L75.2,60l-0.4-0.8h-0.4c-1.337,0.8-2.538,2.932-3.6,6.4   l-4,4.799c1.863,0,3.463,2.801,4.8,8.4v1.6c0,3.201-1.869,4.801-5.6,4.801c-5.337,0-8.938-2.669-10.8-8v-0.801   c-0.8,0-2.138,2.663-4,8c-7.738,7.732-17.338,13.863-28.8,18.4C12.531,106.263,5.063,108,0,108v-1.2c0-0.537,8.4-4.137,25.2-10.8   c9.862-4.538,18.531-10.399,26-17.601C54.131,71.2,56,67.462,56.8,67.2c7.2,0,12.8-4.27,16.8-12.8l2.4-1.2   c2.663,6.4,4.663,9.6,6,9.6h0.8v-0.4l-1.2-6c0-7.737,4-11.6,12-11.6c1.862,0,8.4,1.462,19.6,4.4c5.6,1.6,8.4,2.663,8.4,3.2   c0,3.463-2.938,5.731-8.8,6.8c-9.6,6.131-18.137,10-25.6,11.6c0,2.662-1.6,6-4.8,10c-2.4,4.531-3.6,8-3.6,10.4v2   c0,2.662,1.063,4,3.2,4h0.8c3.2,0,8.131-3.338,14.8-10c2.131-3.2,11.2-7.338,27.2-12.4c3.2-2.668,4.8-4.269,4.8-4.8   c-1.069-8.8-3.6-21.069-7.6-36.8l-2.8-16C119.2,14.8,119.862,13.069,121.2,12z M42,101.601h0.8V102   c-0.8,1.063-5.737,3.462-14.8,7.2h-0.4v-0.801C36.931,103.862,41.731,101.601,42,101.601z M50,50.8c1.331,0,2.4,0.531,3.2,1.6v1.2   h-0.4v0.8c-2.668-1.068-4-1.869-4-2.4v-0.4L50,50.8z M52,97.2c1.331,0,2.931,0.932,4.8,2.8c0,1.601-1.068,3.2-3.2,4.8l-4.4-2.4V102   C49.2,100.663,50.131,99.063,52,97.2z M56,49.2h0.8l0.8,0.8v0.4c0,0.531-0.669,0.8-2,0.8v2.4l-1.2,1.2L54,54.4   C54.263,50.931,54.931,49.2,56,49.2z M58,74v0.8c1.6,2.932,4.531,4.4,8.8,4.4h0.4v-0.4C67.2,77.2,64.131,75.601,58,74z    M61.6,95.601H62c0.8,0,2.4,0.799,4.8,2.399v0.8c-0.537,2.932-1.337,4.4-2.4,4.4c-1.337,0-2.938-1.068-4.8-3.2   C60.131,97.063,60.8,95.601,61.6,95.601z M63.6,35.6H64c1.862,0,2.8,0.8,2.8,2.4c-1.068,1.332-2.269,2-3.6,2h-1.6   C61.862,37.063,62.531,35.6,63.6,35.6z M71.6,105.2h2l2.4,2.4c0,1.063-2.138,1.73-6.4,2l2.8,8.799h-0.8l-2.4-8V109.2   c0.8-1.068,1.862-1.6,3.2-1.6c0-0.538-0.4-0.801-1.2-0.801V106L71.6,105.2z M111.2,16.4v0.8c-0.8,1.337-7.6,4.668-20.4,10   c-6.938,3.2-10.938,5.469-12,6.8L78,33.2C78.263,31.869,89.331,26.269,111.2,16.4z M83.6,54.4c1.331,6.663,2.531,10,3.6,10   c6.131,0,13.731-3.068,22.8-9.199c-6.138-2.4-12.538-4-19.2-4.8C86.263,51.2,83.862,52.531,83.6,54.4z M92,106.399h0.8   c1.6,0.264,2.4,0.663,2.4,1.201V108l-2.4,3.2v0.4h0.8l5.6-0.4v0.4c0,1.063-1.869,1.73-5.6,2h-1.2L92,112.8v-2.4l1.6-2V108h-0.8   h-1.2l-0.8-0.399L92,106.399z M98.8,70.399h0.4c2.662,1.863,4,3.863,4,6l-0.4,0.801h-0.4c-1.069-2.138-2.4-4-4-5.6L98.8,70.399z    M111.2,30l1.6,4.8c0,1.331-1.068,2-3.2,2l-2,1.2c-1.337,0-2-1.6-2-4.8v-0.4h0.8l1.2,2.8h1.6l-1.2-4.4l0.4-0.4   c1.063,0,1.6,0.938,1.6,2.8l1.2,1.2l-1.2-4.4l0.4-0.4H111.2z M128,0c0.263,0,1.2,1.469,2.8,4.4h0.8l4-3.6l1.6-0.8   c1.862,1.069,2.8,2.138,2.8,3.2c-1.6,1.869-3.737,2.8-6.4,2.8c0,0.8-0.938,1.2-2.8,1.2L129.6,6c-1.337,0.8-2.669,1.2-4,1.2h-0.8   L124,6.4V6c2.663-0.531,4-1.063,4-1.6l-0.4-3.6L128,0z M129.6,82c3.2,1.331,4.8,2.132,4.8,2.399v2c-0.538,2.132-1.2,3.201-2,3.201   h-1.2c-2.4-1.338-3.6-2.4-3.6-3.201L129.6,82z M134.4,4.4h0.4c1.6-0.262,2.4-0.662,2.4-1.2V2.8H136L134.4,4.4z M139.2,11.2h0.4   c2.931,6.137,4.4,9.737,4.4,10.8l-0.8,0.8L142,22v0.8c2.931,12.537,4.931,23.063,6,31.6c0.8,0,1.462,5.063,2,15.201   c0,2.931-0.538,5.199-1.6,6.799l-1.6-0.799V72.8l0.4-0.8h-0.4v-2.8c-1.068-8.537-3.469-22.538-7.2-42c-0.538-3.462-1.2-5.2-2-5.2   h0.4v-0.8l-1.2-5.6C137.331,12.669,138.131,11.2,139.2,11.2z M157.2,100v0.399c-10.4,6.663-16.538,10-18.4,10H138v-0.799   C140.663,107.462,147.063,104.263,157.2,100z M151.6,30c1.6,1.069,2.4,3.738,2.4,8h-0.8l-2.4-7.6l0.4-0.4H151.6z M183.6,10   c0.8,0,1.2,0.269,1.2,0.8L184,12h-0.4l-0.4-0.4c-5.6,3.2-12.138,4.8-19.6,4.8h-5.2c0,0.8-0.269,1.2-0.8,1.2   c-1.6-2.131-2.4-3.731-2.4-4.8c3.2,1.337,5.731,2,7.6,2C169.462,14.8,176.4,13.2,183.6,10z M160.4,59.2   c0.263,0.8,3.2,3.199,8.8,7.199c1.6,1.332,2.4,2.4,2.4,3.201l19.6-8.4c0-1.338-8.538-2.269-25.6-2.8h-1.2L160.4,59.2z M194.4,21.2   l0.4,0.4V22c-3.469,2.4-11.469,5.469-24,9.2l-8,3.6v2h-0.4c-0.538,0-0.8-0.4-0.8-1.2c0-2.931,5.2-5.6,15.6-8   C187.331,23.337,193.063,21.2,194.4,21.2z M171.6,39.6c1.331,0,2.262,0.663,2.8,2v0.8l-1.2,1.6h-2.4c-0.537,0-0.8-0.538-0.8-1.6   C170.531,40.8,171.063,39.863,171.6,39.6z M194.4,38c0,1.332-1.737,2.531-5.2,3.6c-1.6-0.8-2.4-2.4-2.4-4.8V36l0.4-0.4l1.6,3.2h1.2   l-0.8-3.2v-0.8h0.8c0.8,0.269,1.2,1.331,1.2,3.2h1.2l-1.2-3.2l0.4-0.8C192.663,34.269,193.6,35.6,194.4,38z M190,100.8   c2.663,1.063,4,1.863,4,2.4c0,1.6-1.869,2.4-5.6,2.4c1.863,5.33,2.8,8.799,2.8,10.399H190l-2.8-9.2v-1.199   c0.531-1.601,1.063-2.4,1.6-2.4l-0.4-0.4v-0.4L190,100.8z M204,95.601c1.6,0.531,2.4,1.063,2.4,1.6V98   c-1.869,1.331-2.8,2.531-2.8,3.601h2.8l6-1.601c-2.137,2.663-4.938,4-8.4,4c-1.069,0-1.869-0.538-2.4-1.601L203.2,98h-0.4h-1.6   C201.731,96.399,202.663,95.601,204,95.601z M212,2.8l2.4,4.4h1.2L220,4h2c1.6,0,2.4,0.4,2.4,1.2V6c0,2.669-2.4,4-7.2,4l-2,0.4   l-0.8,0.4c0-1.063-0.269-1.6-0.8-1.6c-1.069,1.069-2.269,1.6-3.6,1.6h-0.8V10l3.6-1.6c-1.068-2.4-1.6-4.131-1.6-5.2l0.4-0.4H212z    M246.8,94v0.399c0,1.601-6.269,4.264-18.8,8c-2.938,1.601-4.4,2.663-4.4,3.201l-2.4-0.4l-4.4,1.6V106c0-1.337,6.8-4.269,20.4-8.8   C242.263,95.063,245.462,94,246.8,94z M218.8,7.2h0.8h2V6h-0.8L218.8,7.2z M222.4,14.8c2.663,5.869,4,9.737,4,11.6h-1.6   c4,21.6,6,35.062,6,40.4c-0.537,4.531-1.337,6.801-2.4,6.801L228,72.8l0.4-5.6l-6-32.4l0.4-1.6L220,20   C220.8,16.538,221.6,14.8,222.4,14.8z M267.2,53.2c3.2,4,4.8,6.662,4.8,8v0.4c-0.8,0-1.2,0.262-1.2,0.799   c2.932,7.201,4.4,11.863,4.4,14v1.201c-0.538,6.399-2.669,9.6-6.4,9.6h-1.2c-3.738,0-6.538-2.138-8.4-6.4v-0.4h-0.8   c0,4.264-2.938,7.463-8.8,9.601h-3.2c-3.469,0-5.869-3.2-7.2-9.601l0.8-7.6c-1.869,2.131-3.469,7.463-4.8,16   c-1.6,2.4-3.069,3.731-4.4,4c-3.469,0-6-5.068-7.6-15.199C223.462,73.862,224,72,224.8,72c0.531,0,0.8,3.331,0.8,10   c1.6,3.462,3.331,5.2,5.2,5.2c1.6,0,3.6-5.068,6-15.2c1.863-4.8,3.731-7.469,5.6-8c0.8,1.063,1.2,2.132,1.2,3.2l-1.2,10   c0.263,4.531,2.263,6.8,6,6.8h0.8c4,0,6.662-2.138,8-6.399l-2.4-16.4V60c0-2.668,0.4-4,1.2-4c2.4,3.462,4.131,9.331,5.2,17.601   c1.331,5.063,3.731,7.6,7.2,7.6h0.4l4.4-1.6c-4.8-12-7.2-19.201-7.2-21.601v-2.8C266.263,53.863,266.663,53.2,267.2,53.2z    M526.4,39.6c1.862,1.331,2.8,4.531,2.8,9.6c3.731,8,5.6,13.463,5.6,16.4v2c0,5.861-2.269,9.199-6.8,10   c-2.138,0-4.669-1.469-7.6-4.4H520c0,2.662-2.138,4.531-6.4,5.6h-0.8c-2.138,0-3.737-1.199-4.8-3.6   c-2.669,2.932-6.938,4.4-12.8,4.4c-2.669,0-4.4-2-5.2-6h-0.4C478.4,77.063,456.531,81.2,424,86c-21.338,2.663-39.869,4-55.6,4   c-21.338,0-39.469-2.138-54.4-6.399h-0.8c0,3.462-1.469,5.199-4.4,5.199c-3.2-0.8-6.669-2.269-10.399-4.4   c-3.2,7.201-11.069,14-23.601,20.4c-9.068,5.332-22.137,9.063-39.2,11.2h-3.2v-0.8l36-13.2c12.262-6.138,20.663-11.601,25.2-16.399   c5.063-9.338,8.801-14,11.2-14h0.8l9.601,5.6c12.8,4.531,30.8,6.8,54,6.8h7.2c29.331,0,65.462-4.8,108.399-14.399   c3.463-1.338,6.263-2,8.4-2v0.799l-0.4,1.201V70c0,2.132,1.2,3.331,3.601,3.601h2.399c3.731,0,7.463-2,11.2-6   c0.531,0,0.932,1.199,1.2,3.6c1.063,0.531,2.263,0.8,3.6,0.8h0.4c1.862,0,4-2.138,6.399-6.399h0.4c0.263,0,0.531,0.931,0.8,2.799   c1.331,1.332,3.331,2.4,6,3.201c2.4-0.538,3.601-1.201,3.601-2l-8-24.8C525.2,41.332,525.862,39.6,526.4,39.6z M244.8,41.2h0.8   c1.862,0,3.2,1.331,4,4v1.6c0,0.262-1.069,0.662-3.2,1.2c-1.869,3.462-4.4,5.2-7.6,5.2V52c2.663-1.069,4.932-2.668,6.8-4.8v-0.4   c-1.337,0-2-0.269-2-0.8C243.6,42.8,244,41.2,244.8,41.2z M270.8,19.2l0.4,0.4V20c0,0.8-6.4,4-19.2,9.6   c-2.938,0.8-5.737,2.538-8.4,5.2l0.4,0.8l-0.4,0.4l-1.2-1.2v-1.6C243.2,31.337,252.663,26.669,270.8,19.2z M246.8,11.2h2l1.6,2V14   c-0.8,1.6-2.137,2.4-4,2.4l-0.8-2C245.862,12.269,246.263,11.2,246.8,11.2z M263.6,37.6c1.331,1.331,2,2.931,2,4.8   c0,1.063-1.738,1.863-5.2,2.4c-1.6-0.538-2.4-1.6-2.4-3.2V40l0.4-0.4c0.8,1.862,1.462,2.8,2,2.8h0.8l-0.8-4.4h0.8l1.2,3.6h1.2   l-1.2-3.6l0.4-0.4H263.6z M286.8,10.8h0.8c1.863,0,2.801,0.668,2.801,2c0,3.2-2.138,4.8-6.4,4.8l-5.6-1.2v2H277.6l-0.8-0.8   c0-2.4,0.932-3.731,2.8-4l2.4,1.2C282.8,13.469,284.4,12.138,286.8,10.8z M279.6,22.8c3.2,5.6,4.801,9.2,4.801,10.8v1.2l-0.4,0.8   l-0.8-0.8h-0.4v0.8c3.2,19.731,4.8,32.532,4.8,38.4v2.399c0,3.201-0.938,5.201-2.8,6H284.4v-0.799l0.399-7.201l-2-13.199l-4.8-30   l-0.4-2.4v-1.6C278.131,24.269,278.8,22.8,279.6,22.8z M284.4,14.8v0.4l3.199-0.8v-1.2H287.2C285.331,13.469,284.4,14,284.4,14.8z    M324,90.8c-1.6,1.063-11.6,5.2-30,12.4l-0.4-0.4v-0.4C294.131,100.8,304,96.663,323.2,90L324,90.8z M295.6,59.2   c1.863,0,2.801,1.063,2.801,3.199v0.4L297.6,64c0-0.8-0.938-1.337-2.8-1.601l-0.8-0.799v-0.4C294.263,59.862,294.8,59.2,295.6,59.2   z M298.4,42.4L299.6,44v0.8c0,0.262-0.668,0.4-2,0.4L298.4,46h3.6v0.8c0,1.6-2.4,2.931-7.2,4v-0.4l1.601-2l-1.601-1.6V46   C295.331,43.6,296.531,42.4,298.4,42.4z M301.2,57.6l1.6,0.8v0.8c0,0.8-0.537,1.199-1.6,1.199v2l-0.8,2H300V59.2L301.2,57.6z    M301.2,79.2c2.399,1.862,4.8,2.8,7.2,2.8c-1.069-2.399-2.538-3.601-4.4-3.601C302.131,78.663,301.2,78.931,301.2,79.2z    M310.4,100.8h0.8c2.131,0,3.2,1.063,3.2,3.2c0,0.8-1.601,1.331-4.801,1.601v1.199l2,7.2H311.2c-0.269,0-1.469-2.669-3.601-8   c0-1.069,0.663-2,2-2.8v-0.4v-0.4L310.4,100.8z M509.2,89.2h0.8v0.4c0,2.131-1.338,3.199-4,3.199l-1.2,0.4H502.4H502   c-5.6,4.531-9.2,6.8-10.8,6.8v-0.399l6.8-5.201l4.4-3.6l4,0.4v-0.4l0.8-1.199L508,90.8L509.2,89.2z M505.2,36.8   c1.331,0.531,2,1.462,2,2.8V40c0,1.063-1.069,1.863-3.2,2.4h-0.4c-0.8,0-1.199-0.8-1.199-2.4   C503.463,38.131,504.4,37.063,505.2,36.8z M504,38.8l-0.4,0.8L504.4,40h0.399l0.8-0.4L504,38.8z M505.2,52.4   c1.862,0.8,2.8,2.131,2.8,4h-0.8h-0.4c0-0.269-0.8-0.668-2.399-1.2v-2L505.2,52.4z M511.2,52l0.399,1.2v1.2   c-1.068,0-1.6,0.663-1.6,2h-1.2C509.331,53.462,510.131,52,511.2,52z M541.6,98c-1.068,1.601-12,5.731-32.8,12.399v-0.799   C510.4,108.263,521.331,104.399,541.6,98z M525.2,88.8h0.399c1.863,0,3.731,1.2,5.601,3.6c0,1.863-0.8,3.332-2.4,4.4H528.4   c-1.338,0-2.938-1.068-4.801-3.199v-0.4L525.2,88.8z"/>
                        </g>
                    </svg>
                </div>
            {% endif %}
            
            <div class="flex flex-col gap-3 py-3" id="translate">
                {% for verse in verses %}
                <div id="aya-{{verse.id}}" class="border-2 bg-opacity-40 border-gray-200 dark:border-gray-600 rounded-xl dark:bg-gray-800">
                    <div class="flex flex-col p-3">
                        {% comment %} <div id="play-tooltip" role="tooltip" class="absolute z-30 invisible inline-block px-2 py-1 text-xs font-medium text-white bg-lime-950 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                            তিলাওয়াত শুনুন
                        </div>
                        <div id="bookmark-tooltip" role="tooltip" class="absolute z-30 invisible inline-block px-2 py-1 text-xs font-medium text-white bg-lime-950 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                            বুকমার্ক
                        </div>
                        <div role="tooltip" id="copy-tooltip" class="absolute z-30 invisible inline-block px-2 py-1 text-xs font-medium text-white bg-lime-950 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                            কপি করুন
                        </div>
                        <div role="tooltip" id="note-tooltip" class="absolute z-30 invisible inline-block px-2 py-1 text-xs font-medium text-white bg-lime-950 rounded-lg shadow-sm opacity-0 tooltip dark:bg-gray-700">
                            নোট যুক্ত করুন
                        </div> {% endcomment %}
                        <div class="flex items-center">
                            <div class="statistic font-solaimanlipi px-2 border rounded-xl w-16 border-gray-300 dark:border-gray-600 text-gray-500 text-center mr-3">
                              {% number_convert 'english_to_bengali' sura.id %}:{% number_convert 'english_to_bengali' verse.id %}
                            </div>
                            <span class="play-icon"><i data-tooltip-targets="play-tooltip" onclick="play('{{sura.bn_name}}', '{{sura.id}}', '{{verse.id}}');" aya="{% make_3_digit ayat.aya %}" class="fa-solid fa-play text-gray-500 rounded-full hover:bg-green-200 dark:hover:bg-gray-700 hover:text-lime-700 dark:hover:text-gray-200 text-center p-2 w-4 h-4 cursor-pointer"></i></span>
                            <span class="bookmark-icon"><i data-tooltip-targets="bookmark-tooltip" class="fa-regular fa-bookmark text-gray-500 rounded-full hover:bg-green-200 dark:hover:bg-gray-700 hover:text-lime-700 dark:hover:text-gray-200 text-center p-2 w-4 h-4 cursor-pointer"></i></span>
                            <span class="copy-icon"><i data-tooltip-targets="copy-tooltip" id="copy-icon" ionclick="copyClipboard('{{sura.bn_name}}', '{% number_convert 'english_to_bengali' sura.id %}', '{% number_convert 'english_to_bengali' verse.id %}', '{{verse.arabic_text}}', '{{verse.translation}}');" class="fa-solid fa-copy text-gray-500 rounded-full hover:bg-green-200 dark:hover:bg-gray-700 hover:text-lime-700 dark:hover:text-gray-200 text-center p-2 w-4 h-4 cursor-pointer"></i></span>
                            <span class="note-icon"><i data-tooltip-targets="note-tooltip" class="fa-solid fa-notes-medical text-gray-500 rounded-full hover:bg-green-200 dark:hover:bg-gray-700 hover:text-lime-700 dark:hover:text-gray-200 text-center p-2 w-4 h-4 cursor-pointer"></i></span>
                        </div>
                          
                        <div class="flex flex-row-reverse flex-wrap gap-3 arabic-ayat pt-4 pb-3">
                            {% for word in verse.words %}
                                <span class="flex flex-col gap-2 items-center cursor-pointer group" onclick="pronunsiation( {{sura.id}}, '{% make_3_digit sura.id %}', '{% make_3_digit verse.id %}', '{% make_3_digit word.wid %}');">
                                    <span class="font-kfgq text-3xl group-hover:text-lime-600">{{word.ar}}</span>
                                    <span class="font-solaimanlipi text-sm word-translate group-hover:text-green-500">{{word.bn}}</span>
                                </span>
                            {% endfor %}
                        </div>
                        <div class="flex py-2 items-center">
                            <div class="text-lime-700 dark:text-lime-500 font-solaimanlipi pr-2 py-0 leading-4 border-r-2 border-r-lime-700 cursor-pointer"><span class="text-green-500 text-sm">{{sura.language}}</span> - {{sura.translate_by}}</div>
                            <div id="see-tafseer" class="text-orange-500 font-solaimanlipi pl-2 hover:font-bold hover:tracking-wide cursor-pointer">তাফসীর <i class="fa-solid fa-arrow-right-long"></i></div>
                        </div>
                        <div class="translated-ayat text-start text-xl py-2 font-solaimanlipi">{{verse.translation}}</div>
                    </div>
                    <div id="tafseer" class="tafseer-sec h-0 font-kfgq flex flex-col overflow-hidden">{% if verse.footnotes %}{{verse.footnotes|safe}}{%else%}<span class="text-center">দুঃখিত!! এই আয়াতের তাফসীর পাওয়া যাইনি</span>{%endif%}</div>
                </div>
                {% endfor %}
            </div>

            <div id="reading" class="flex w-full max-w-4xl mx-auto hidden" style="direction: rtl;">
                <div class="inline-block">
                    {% for ayat in sura.ayats %}
                        <div class="flex text-4xl my-6 leading-relaxed"><span class="ml-3 font-ayano">{% number_convert 'english_to_arabic' ayat.aya %}</span><span class="font-kfgq">{{ayat.arabic_text}}</span></div>
                    {% endfor %}
                </div>
            </div>
        </div>  
    </div>

    <div class="flex-auto md:ml-44 md:mr-56 sticky bottom-0">
        <div class="audio-player bg-lime-800  h-14">
          <div class="timeline dark:bg-gray-300 bg-gray-400">
            <div class="progress transition duration-75 ease-in"></div>
          </div>
          <div class="controls">
            <div class="play-container gap-3">
                <div id="previous-aya" class="me-3 text-base cursor-not-allowed">
                    <i class="fa-solid fa-backward-step"></i>
                </div>
                <div class="toggle-play play"></div>
                <div id="next-aya" class="text-base cursor-pointer">
                    <i class="fa-solid fa-forward-step"></i>
                </div>
                <div class="time">
                    <div class="current font-solaimanlipi text-base">০:০০</div>
                    <div class="divider text-base">/</div>
                    <div class="length font-solaimanlipi text-base">০:০০</div>
                </div>
            </div>
            <div class="name font-solaimanlipi text-base"><span id="sura-name" class="px-1"><span>{{sura.bn_name}} ({{sura.translation}})</span></span><span id="referance" class="px-1"> ({% number_convert 'english_to_bengali' sura.id %}:১)</span>-<span id="qari-name" class="px-1">আল আফাসি</span></div>
            <div class="volume-container">
              <div class="volume-button">
                <div class="volume icono-volumeHigh"></div>
              </div>
              
              <div class="volume-slider">
                <div class="volume-percentage"></div>
              </div>
            </div>
          </div>
        </div>
    </div>

</div>

{% endblock main_content %}

{% block js %}

<script src="{% static 'js/tooltips/popper.min.js' %}"></script>
<script src="{% static 'js/tooltips/tippy-bundle.min.js' %}"></script>
<script>
    let sid = {{sura.id}}
    let tv = {{sura.total_verses}}
</script>
<script src="{% static 'js/audio/player.js' %}"></script>

<script>
    var suraDiv = $('#sura-' + sid);
    var suraDivPosition = suraDiv.position().top;
    $('#sura-list').animate({
        scrollTop: suraDivPosition
    });
</script>

<script>
    tippy('.play-icon', {
        content: 'তিলাওয়াত শুনুন',
        theme: 'my-theme',
        arrow: false,
        delay: [0, 0]
    });
    tippy('.copy-icon', {
        content: 'কপি করুন',
        theme: 'my-theme',
        arrow: false,
        delay: [0, 0]
    });
    tippy('.bookmark-icon', {
        content: 'বুকমার্ক',
        theme: 'my-theme',
        arrow: false,
        delay: [0, 0]
    });
    tippy('.note-icon', {
        content: 'নোট যুক্ত করুন',
        theme: 'my-theme',
        arrow: false,
        delay: [0, 0]
    });
</script>

<script>
    function convertToBanglaDigits(number) {
        const banglaDigits = {
          0: '০',
          1: '১',
          2: '২',
          3: '৩',
          4: '৪',
          5: '৫',
          6: '৬',
          7: '৭',
          8: '৮',
          9: '৯'
        };
      
        const englishDigits = number.toString().split('');
        let banglaNumber = '';
      
        for (let i = 0; i < englishDigits.length; i++) {
          if (banglaDigits.hasOwnProperty(englishDigits[i])) {
            banglaNumber += banglaDigits[englishDigits[i]];
          } else {
            banglaNumber += englishDigits[i];
          }
        }
      
        return banglaNumber;
      }
      
</script>

<script>
    function makeThreeDigit(number) {
        if (number < 10) {
            return "00" + number;
        } else if (number < 100) {
            return "0" + number;
        } else {
            return number;
        }    
    }
      
</script>

<script>
    byword = localStorage.getItem('byword');
    if (byword === 'true') {
        $('input[id="word-by-word"]').prop('checked', true);
        $(".word-translate").removeClass("hidden");
        $(".word-translate-tooltip").addClass("hidden");
    } else {
        $('input[id="word-by-word"]').prop('checked', false);
        $(".word-translate").addClass("hidden");
        $(".word-translate-tooltip").removeClass("hidden");
    }

    auto_next = localStorage.getItem("auto-next");
    if (auto_next === 'true') {
        $('input[id="auto-next"]').prop('checked', true);
    } else {
        $('input[id="auto-next"]').prop('checked', false);
    }
    
    arabic_font = localStorage.getItem('quran-font')
    mode = localStorage.getItem('mode');
    if (mode === 'translate') {
        $('input[name="mode"][value="translate"]').prop('checked', true);
        $("#translate").removeClass("hidden");
        $("#reading").addClass("hidden");
    } else if (mode === 'read') {
        $('input[name="mode"][value="read"]').prop('checked', true);
        $("#reading").removeClass("hidden");
        $("#translate").addClass("hidden");
    } else {
        $('input[name="mode"][value="tafseer"]').prop('checked', true);
        $("#reading").addClass("hidden");
        $("#translate").removeClass("hidden");
        $(".tafseer-sec").addClass("h-auto max-h-96 border-t-2 border-t-gray-200 dark:border-t-gray-600 p-3 overflow-y-auto");
            $(".tafseer-sec").removeClass("h-0 overflow-hidden");
    }
    $(".font-kfgq").each(function (index, element) {
        $(this).removeClass('font-kfgq')
        $(this).addClass('font-'+arabic_font)
    });
    $('#quran-font').attr("current-font", arabic_font)
    $('#quran-font').val(arabic_font);
    var qari = localStorage.getItem('qari');
    if (qari === null) {
        qari = 'Alafasy_128kbps';
        localStorage.setItem('qari', qari)
    }
    $("#qari").val(qari);
    $('#quran-font').on('change', function() {
        var arabic_font = $(this).attr("current-font");
        var new_font = this.value
        localStorage.setItem('quran-font', new_font)
        $(this).attr("current-font", this.value)
        $(".font-"+arabic_font).each(function (index, element) {
            $(this).removeClass('font-'+arabic_font)
            $(this).addClass('font-'+new_font)
        });
    });
    $('#qari').on('change', function() {
        localStorage.setItem('qari', this.value)
    });
    $(document).on("click", "#see-tafseer", function(event) {
        let tafseer = $(this).parent().parent().parent().find("#tafseer");
        if (tafseer.hasClass("h-0")) {
            tafseer.removeClass("h-0 overflow-hidden");
            tafseer.addClass("h-auto max-h-96 border-t-2 border-t-gray-200 dark:border-t-gray-600 p-3 overflow-y-auto");
        } else {
            tafseer.addClass("h-0 overflow-hidden");
            tafseer.removeClass("h-auto max-h-96 border-t-2 border-t-gray-200 dark:border-t-gray-600 p-3 overflow-y-auto");
        }
    });
</script>

<script>
    $(document).on("click", "#copy-icon", function(event) {
        let tafseer = $(this).parent().parent().parent().parent().find("#tafseer").text();
        let suraname = $(".suraname").text();
        let statistics = $(this).parent().parent().find(".statistic").text().replaceAll(" ", "").replaceAll("\n", "");
        let arabic = $(this).parent().parent().parent().find(".arabic-ayat").text();
        let translate = $(this).parent().parent().parent().find(".translated-ayat").text();
        const textToCopy = `${arabic}\n${translate}\n\n${suraname} (${statistics})\nsource: www.iqa.com`;
        navigator.clipboard.writeText(textToCopy)
          .then(() => {
            // add a toast notification with animated success icon using Tailwind CSS
            var toastContainer = document.createElement('div');
            toastContainer.className = 'fixed top-14 left-0 right-0 flex justify-center items-center z-50';
      
            var toast = document.createElement('div');
            toast.className = 'bg-white border-2 border-green-500 text-gray-700 px-4 py-2 rounded-lg shadow-md flex items-center justify-between';
            
            var toastMessage = document.createElement('div');
            toastMessage.innerText = 'ক্লিপবোর্ডে কপি করা হয়েছে!';
      
            var successIcon = document.createElement('i');
            successIcon.className = 'fas fa-check text-green-500 text-2xl mr-3';
      
            toast.appendChild(successIcon);
            toast.appendChild(toastMessage);
            toastContainer.appendChild(toast);
            document.body.appendChild(toastContainer);
      
            setTimeout(function() {
              toastContainer.remove();
            }, 3000); // hide the toast after 3 seconds
          });
      });
      
</script>

<script>
    const $rightDrawer = document.getElementById('accordion-flush');
    const rightDrawerOptions = {
        placement: 'right',
        backdrop: true,
        bodyScrolling: false,
        edge: false,
        edgeOffset: '',
        backdropClasses: 'bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-20',
        onHide: function() {
            if (window.innerWidth >= 768) {
                $("#accordion-flush").removeClass("hidden");
                $("#accordion-flush").removeClass("transition-transform");
                $("#accordion-flush").removeClass("translate-x-full");
            }
        }
    };
    const rightDrawer = new Drawer($rightDrawer, rightDrawerOptions);
    $("#settings-right-drawer").click(function() {
        rightDrawer.show();
        $rightDrawer.classList.remove('hidden');
    });

    const $leftDrawer = document.getElementById('sura-list');
    const leftDrawerOptions = {
        placement: 'left',
        backdrop: true,
        bodyScrolling: true,
        edge: false,
        edgeOffset: '',
        backdropClasses: 'bg-gray-900 bg-opacity-50 dark:bg-opacity-80 fixed inset-0 z-20',
        onHide: function() {
            if (window.innerWidth >= 768) {
                $("#sura-list").removeClass("hidden");
                $("#sura-list").removeClass("transition-transform");
                $("#sura-list").removeClass("-translate-x-full");
            }
        }
    };
    const leftDrawer = new Drawer($leftDrawer, leftDrawerOptions);
    $("#slist-icon").click(function() {
        leftDrawer.show();
        $leftDrawer.classList.remove('hidden');
    });

    $(window).on('resize', function(){
        var win = $(this); //this = window
        if (win.width() > 767) {
            $("#sura-list").removeClass("hidden");
            $("#sura-list").removeClass("transition-transform");
            $("#sura-list").removeClass("-translate-x-full");
            $("#accordion-flush").removeClass("hidden");
            $("#accordion-flush").removeClass("transition-transform");
            $("#accordion-flush").removeClass("translate-x-full");
        } else {
            $("#sura-list").addClass("hidden");
            $("#sura-list").addClass("transition-transform");
            $("#sura-list").addClass("-translate-x-full");
            $("#accordion-flush").addClass("hidden");
            $("#accordion-flush").addClass("transition-transform");
            $("#accordion-flush").addClass("translate-x-full");
            rightDrawer.hide();
            leftDrawer.hide();
        }
    });
</script>

<script>

    $("#word-by-word").change(function() {
        if(this.checked) {
            localStorage.setItem('byword', true);
            $(".word-translate").removeClass("hidden");
            $(".word-translate-tooltip").addClass("hidden");
        } else {
            localStorage.setItem('byword', false);
            $(".word-translate").addClass("hidden");
            $(".word-translate-tooltip").removeClass("hidden");
        }
    });

    const modeSelect = document.getElementById('mode-select');
    modeSelect.addEventListener('change', (event) => {
        localStorage.setItem('mode', event.target.value);
        if (event.target.value === 'translate') {
            $('html, body').scrollTop(0);
            $("#translate").removeClass("hidden");
            $("#reading").addClass("hidden");
            $(".tafseer-sec").addClass("h-0 overflow-hidden");
            $(".tafseer-sec").removeClass("h-auto max-h-96 border-t-2 border-t-gray-200 dark:border-t-gray-600 p-3 overflow-y-auto");
        } else if (event.target.value === 'read') {
            $('html, body').scrollTop(0);
            $("#reading").removeClass("hidden");
            $("#translate").addClass("hidden");
        }
        else {
            $('html, body').scrollTop(0);
            $("#reading").addClass("hidden");
            $("#translate").removeClass("hidden");
            $(".tafseer-sec").addClass("h-auto max-h-96 border-t-2 border-t-gray-200 dark:border-t-gray-600 p-3 overflow-y-auto");
            $(".tafseer-sec").removeClass("h-0 overflow-hidden");
        }
    });

    $("#auto-next").change(function() {
        if(this.checked) {
            localStorage.setItem('auto-next', true);
        } else {
            localStorage.setItem('auto-next', false);
        }
    });

</script>

{% endblock js %}